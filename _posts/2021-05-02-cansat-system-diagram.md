---
title: 100kinSATの構成（システム設計）について
author: ymt117
date: 2021-05-02
categories: [CanSatをはじめよう, 基礎編]
tags: [100kinsat, edusat, basic, システム図]
---

ここでは100kinSATのシステム図を示して、100kinSATの構成がどのようになっているか説明します。

![system-diagram](/assets/img/post/cansat-system-diagram/system_diagram.png){: width="80%"}
_100kinSATのシステム図_

|システム||
|:---|:---|
|制御系|ESP32|
|ミッション系|モータ、電熱線、センサ類|
|電源系|バッテリー|
|通信系|Wi-Fi、Bluetooth、マイコンとセンサ間の通信|
|構造系|基板、タイヤ、パラシュート|

# 制御系
---

CanSatを目的地まで誘導したり、落下・着地の状態を推定してパラシュートを切り離したりといった動作を実現するシステムが制御系です。

100kinSATは制御用にESP32というマイコンを採用しています。
国内で入手しやすいことや安価であること、開発環境を整えやすいことなどが採用理由です。
上記の条件に合致するマイコンは他にもArduinoやNucleoなどありますが、ESP32マイコンにはWi-FiやBluetoothが搭載されているという特徴があります。

# ミッション系
---

CanSatは投下中のデータ収集や目的地への誘導など様々なミッション（達成したいこと）を設定します。
ミッション系はそのような達成したいことを実現するためのセンサや機構を指します。

100kinSATは9軸センサ（加速度・ジャイロ・地磁気）やGPSセンサを搭載しています。
また、100kinSATはローバ型のCanSatで目標地点へ地面を走行する機能を備えています。
センサから取得した値や、モータへの出力など制御履歴はmicroSDカードに記録します。

パラシュートの展開を物理的に判定するためのフライトピン、着地後パラシュートを切り離すための電熱線もミッション系に含みます。

# 電源系
---

100kinSATは電源として単4のアルカリ乾電池を使用しています。
入手性や安全性が採用理由です。

単4電池を4本直列に接続して6Vとしています。
ESP32マイコンは3.3V駆動であるため、レギュレータICを使って降圧しています。
モータと電熱線の電源には6Vをそのまま接続しています。

CanSatには軽量で高エネルギーなリチウムポリマーバッテリーを採用する機体も多く見られますが、このバッテリーは取扱いが難しく衝撃や過充電で発火する危険性があるため100kinSATでは採用していません。

# 通信系
---

## 無線通信

100kinSATの心臓部であるESP32マイコンはWi-FiとBluetoothの通信機能を備えています。
CanSatと地上局の通信にはこれらの機能を活用します。

100kinSATはあまり通信距離を考慮した設計はしていませんが、米国で行われるARLISSではCanSatと地上局の距離が数キロメートル離れることもあるため、十分な通信距離を確保できるモジュールを使用する必要があります。

## 有線通信

また、ESP32マイコンと各センサの通信インタフェースも通信系に含まれます。
SPIやI2C、UARTといった規格が該当します。

|通信規格||
|:---|:---|
|SPI|マイコン <---> microSDカード|
|I2C|マイコン <---> 9軸センサ|
|UART|マイコン <---> GPSセンサ|

# 構造系
---

構造系はパラシュートやタイヤが当てはまります。
また、100kinSATは基板が機体のボディを兼ねた構造になっています。

# その他
---

CanSatの制御に直接関係しませんが、CanSatの状態を外部から観察する目的としてLEDやスピーカーを搭載しています。

たとえば、起動時にスピーカーから電子音を鳴らしたり、打ち上げ待機状態のときにLEDを点滅させたりします。
SDカードの読み込みやセンサの初期化に失敗したときにピピピッと電子音を鳴らすとデバッグしやすいです。
